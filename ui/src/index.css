@import "tailwindcss";

/* Manual dark toggle: dark: utilities apply when data-theme="dark" on <html>. */
@custom-variant dark (&:where([data-theme='dark'], [data-theme='dark'] *));

/* =====================================================================
   Theme tokens
   ===================================================================== */

@theme {
  /* --- Typography --- */
  --font-sans: ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, "SFMono-Regular", "Menlo", monospace;

  /* --- Brand palette (oklch) --- */
  --color-primary-50:  oklch(0.970 0.040 264);
  --color-primary-100: oklch(0.940 0.075 264);
  --color-primary-200: oklch(0.885 0.120 264);
  --color-primary-300: oklch(0.800 0.160 264);
  --color-primary-400: oklch(0.700 0.185 264);
  --color-primary-500: oklch(0.585 0.200 264);
  --color-primary-600: oklch(0.508 0.195 264);
  --color-primary-700: oklch(0.430 0.178 264);
  --color-primary-800: oklch(0.363 0.148 264);
  --color-primary-900: oklch(0.307 0.115 264);
  --color-primary-950: oklch(0.208 0.083 264);

  /* --- Semantic tokens (resolved via CSS vars set below) --- */
  --color-background:        var(--background);
  --color-foreground:        var(--foreground);
  --color-muted:             var(--muted);
  --color-muted-foreground:  var(--muted-foreground);
  --color-border:            var(--border);
  --color-accent:            var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  /* --- Tip status colors --- */
  --color-tip-active:        #79FF00;
  --color-tip-invalid:       #CC203B;
  --color-tip-valid-fork:    #3CACB5;
  --color-tip-valid-headers: #FF69B4;
  --color-tip-headers-only:  #FF8800;
  --color-tip-unknown:       #999999;
}

/* =====================================================================
   Light mode (default)
   ===================================================================== */

:root {
  color-scheme: light;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  --background:        oklch(1.000 0.000 0);
  --foreground:        oklch(0.145 0.017 250);
  --muted:             oklch(0.967 0.004 250);
  --muted-foreground:  oklch(0.500 0.018 250);
  --border:            oklch(0.920 0.008 250);
  --accent:            var(--color-primary-600);
  --accent-foreground: oklch(1.000 0.000 0);
}

/* =====================================================================
   Dark mode â€” explicit user choice
   ===================================================================== */

:root[data-theme='dark'] {
  color-scheme: dark;

  --background:        oklch(0.090 0.008 250);
  --foreground:        oklch(0.985 0.003 250);
  --muted:             oklch(0.145 0.012 250);
  --muted-foreground:  oklch(0.620 0.016 250);
  --border:            oklch(0.220 0.014 250);
  --accent:            var(--color-primary-400);
  --accent-foreground: oklch(0.090 0.008 250);
}

/* =====================================================================
   Base styles
   ===================================================================== */

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  font-family: var(--font-sans);
  line-height: 1.5;
  font-weight: 400;
  background-color: var(--background);
  color: var(--foreground);
}

a {
  font-weight: 500;
  color: var(--accent);
  text-decoration: inherit;
}
